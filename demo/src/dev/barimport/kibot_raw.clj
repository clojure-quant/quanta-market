(ns dev.barimport.kibot-raw
  (:require
   [ta.import.provider.kibot.raw :as raw]
   [dev.env :refer [secrets]]))


(def kibot (:kibot secrets))


(raw/history kibot {:symbol "AAPL"
                    :interval "daily"
                    :period 2})
;; => "10/08/2024,224.3,225.98,223.25,225.78,23003386\r\n10/09/2024,225.31,229.75,224.83,229.49,25029040\r\n"

(raw/history kibot {:symbol "AAPL"
                    :interval 60
                    :period 1})
;; => [:de.otto.nom.core/anomaly
;;     :ta.import.provider.kibot.raw/kibot-request
;;     {:code "497",
;;      :type "Not Allowed",
;;      :message
;;      "\r\nYour account does not have full access to the API.\r\n\r\nYou can use the 'guest' account for testing and to download daily data for stocks and ETFs.\r\nFor more information, please visit http://www.kibot.com/api/\r\n\r\nPlease visit http://www.kibot.com/updates.aspx to see how to subscribe."}]


(raw/history kibot {:symbol "SIL" ; SIL - ETF
                    :interval "daily"
                    :period 1
                    :type "ETF" ; Can be stocks, ETFs forex, futures.
                    :timezone "UTC"
                    :splitadjusted 1})
;; => "10/09/2024,34.8,35.07,34.4201,34.99,411814\r\n"


     ; futures
     ; http://www.kibot.com/historical_data/Futures_Historical_Tick_with_Bid_Ask_Data.aspx

(raw/history kibot {:symbol "SIL" ; SIL - FUTURE
                    :type "futures" ; Can be stocks, ETFs forex, futures.
                    :interval "daily"
                    :period 1
                    :timezone "UTC"
                    :splitadjusted 1})
;; => "10/09/2024,30.88,31.005,30.44,30.67,17294\r\n"


(raw/history kibot {:symbol "SIL" ; SIL - FUTURE
                    :type "futures" ; Can be stocks, ETFs forex, futures.
                    :interval "daily"
                    :startdate "2023-09-01"
                    :enddate "2023-09-20"
                    :timezone "UTC"
                    :splitadjusted 1})
;; => "09/01/2023,24.81,25.22,24.515,24.562,9019\r\n09/05/2023,24.625,24.635,23.815,23.873,12488\r\n09/06/2023,23.89,23.93,23.32,23.503,8688\r\n09/07/2023,23.48,23.49,23.13,23.24,6254\r\n09/08/2023,23.255,23.45,23.135,23.174,7591\r\n09/11/2023,23.21,23.515,23.18,23.383,6052\r\n09/12/2023,23.375,23.475,23.11,23.402,6571\r\n09/13/2023,23.37,23.39,23.025,23.181,6561\r\n09/14/2023,23.125,23.26,22.56,22.994,12133\r\n09/15/2023,22.935,23.585,22.91,23.386,11305\r\n09/18/2023,23.32,23.535,23.23,23.498,8162\r\n09/19/2023,23.505,23.71,23.37,23.456,6979\r\n09/20/2023,23.48,23.895,23.325,23.836,10244\r\n"


(raw/history kibot {:type "forex"
                    :symbol "EURUSD"
                    :startdate "2023-09-01"
                    :interval "daily"
                    :timezone "UTC"})
;; => "09/01/2023,1.08435,1.0882,1.0772,1.07731,252561\r\n09/04/2023,1.07765,1.08088,1.07716,1.07938,100151\r\n09/05/2023,1.07939,1.07983,1.07059,1.0722,214750\r\n09/06/2023,1.07221,1.07488,1.07023,1.07269,213766\r\n09/07/2023,1.07272,1.07317,1.06858,1.06957,186169\r\n09/08/2023,1.06966,1.07438,1.0694,1.06982,177467\r\n09/11/2023,1.07145,1.07593,1.07072,1.07502,196109\r\n09/12/2023,1.07501,1.07679,1.07055,1.07538,173051\r\n09/13/2023,1.07538,1.07649,1.07107,1.07292,242969\r\n09/14/2023,1.0729,1.07521,1.06318,1.06429,264818\r\n09/15/2023,1.06427,1.06878,1.06333,1.06596,199085\r\n09/18/2023,1.06582,1.06986,1.06545,1.06915,150709\r\n09/19/2023,1.06915,1.07179,1.0675,1.06792,164650\r\n09/20/2023,1.06792,1.07368,1.065,1.06605,227166\r\n09/21/2023,1.06601,1.06736,1.06167,1.06579,252028\r\n09/22/2023,1.06576,1.06717,1.06147,1.06452,206716\r\n09/25/2023,1.06504,1.06556,1.05751,1.0593,177771\r\n09/26/2023,1.05928,1.06091,1.0562,1.05722,190248\r\n09/27/2023,1.0572,1.05743,1.04881,1.05022,231364\r\n09/28/2023,1.05026,1.05788,1.04909,1.05654,272198\r\n09/29/2023,1.05652,1.06171,1.05565,1.05739,264334\r\n10/02/2023,1.05655,1.05918,1.04766,1.04771,240182\r\n10/03/2023,1.04773,1.04935,1.04482,1.04663,291047\r\n10/04/2023,1.04664,1.05322,1.04513,1.05036,273791\r\n10/05/2023,1.05034,1.05518,1.04999,1.05468,261147\r\n10/06/2023,1.05473,1.06,1.04821,1.05844,314792\r\n10/09/2023,1.05493,1.05744,1.05193,1.05665,229444\r\n10/10/2023,1.05662,1.06197,1.05543,1.06051,285291\r\n10/11/2023,1.0605,1.06347,1.05795,1.06193,275831\r\n10/12/2023,1.06194,1.06396,1.05256,1.0528,265147\r\n10/13/2023,1.05279,1.05585,1.04953,1.05067,259968\r\n10/16/2023,1.05084,1.05627,1.05084,1.05602,210287\r\n10/17/2023,1.056,1.05948,1.05328,1.05771,251090\r\n10/18/2023,1.05771,1.05942,1.0523,1.05365,256250\r\n10/19/2023,1.05365,1.06164,1.05281,1.05823,323297\r\n10/20/2023,1.0582,1.06037,1.05648,1.0593,238286\r\n10/23/2023,1.0595,1.06779,1.05714,1.06685,214184\r\n10/24/2023,1.06689,1.06945,1.05829,1.05895,234249\r\n10/25/2023,1.05894,1.06067,1.05653,1.05659,209883\r\n10/26/2023,1.05659,1.05692,1.05211,1.05621,253962\r\n10/27/2023,1.05619,1.0597,1.05352,1.05586,219153\r\n10/30/2023,1.05649,1.06253,1.05471,1.0615,194564\r\n10/31/2023,1.06152,1.06749,1.05574,1.05744,249503\r\n11/01/2023,1.05741,1.05806,1.05165,1.05698,276186\r\n11/02/2023,1.05699,1.06675,1.05645,1.06216,226739\r\n11/03/2023,1.06217,1.07467,1.06145,1.07277,239728\r\n11/06/2023,1.07219,1.07563,1.07163,1.07172,164371\r\n11/07/2023,1.07171,1.07221,1.0664,1.06997,181572\r\n11/08/2023,1.06997,1.0716,1.06592,1.0709,179127\r\n11/09/2023,1.0709,1.07255,1.06601,1.06673,217564\r\n11/10/2023,1.06673,1.06928,1.06561,1.06842,177736\r\n11/13/2023,1.0683,1.07062,1.0665,1.06986,151474\r\n11/14/2023,1.06986,1.08874,1.06928,1.08787,226246\r\n11/15/2023,1.08784,1.08858,1.08315,1.08464,214038\r\n11/16/2023,1.08467,1.08956,1.08299,1.08519,196033\r\n11/17/2023,1.08519,1.09139,1.08246,1.09088,192695\r\n11/20/2023,1.09089,1.09518,1.08974,1.09401,182795\r\n11/21/2023,1.09401,1.09652,1.08999,1.09108,193706\r\n11/22/2023,1.09108,1.09229,1.08522,1.08882,204608\r\n11/23/2023,1.08881,1.09306,1.08821,1.0902,112542\r\n11/24/2023,1.09021,1.09487,1.0895,1.09328,139972\r\n11/27/2023,1.09433,1.09591,1.09248,1.09535,173444\r\n11/28/2023,1.09536,1.10089,1.09344,1.09926,217726\r\n11/29/2023,1.09925,1.10171,1.096,1.09692,233397\r\n11/30/2023,1.09692,1.09839,1.08792,1.08851,256377\r\n12/01/2023,1.08851,1.09127,1.08286,1.08789,259710\r\n12/04/2023,1.0877,1.08949,1.08039,1.08358,229550\r\n12/05/2023,1.08359,1.08475,1.07781,1.0796,245429\r\n12/06/2023,1.0796,1.08047,1.07586,1.07641,202055\r\n12/07/2023,1.07641,1.08177,1.0755,1.07935,257612\r\n12/08/2023,1.07934,1.08007,1.07238,1.07588,276692\r\n12/11/2023,1.07587,1.0779,1.07415,1.07645,182395\r\n12/12/2023,1.07645,1.08277,1.07582,1.07941,216385\r\n12/13/2023,1.07941,1.08966,1.0773,1.08739,257555\r\n12/14/2023,1.08739,1.10093,1.08698,1.0992,349156\r\n12/15/2023,1.09919,1.10037,1.08884,1.08937,267682\r\n12/18/2023,1.0895,1.09312,1.08918,1.09235,187922\r\n12/19/2023,1.09201,1.09874,1.09116,1.09807,212618\r\n12/20/2023,1.09802,1.09835,1.09296,1.09392,206223\r\n12/21/2023,1.09362,1.10126,1.09352,1.10107,235993\r\n12/22/2023,1.10106,1.10401,1.09936,1.1014,223013\r\n12/24/2023,1.10139,1.1017,1.1005,1.10073,150\r\n12/26/2023,1.10213,1.10451,1.10086,1.10419,85402\r\n12/27/2023,1.10419,1.11227,1.10284,1.1105,142748\r\n12/28/2023,1.11047,1.11393,1.10552,1.10612,186250\r\n12/29/2023,1.10612,1.10842,1.10339,1.10375,185265\r\n12/31/2023,1.10367,1.10368,1.10367,1.10368,32\r\n01/02/2024,1.10221,1.10388,1.09381,1.09391,185091\r\n01/03/2024,1.09408,1.09654,1.08926,1.09214,237599\r\n01/04/2024,1.09213,1.09722,1.09141,1.09444,194507\r\n01/05/2024,1.09433,1.09984,1.08767,1.09409,264832\r\n01/08/2024,1.09415,1.09788,1.09226,1.09503,183878\r\n01/09/2024,1.09503,1.09664,1.09101,1.09307,185617\r\n01/10/2024,1.09305,1.09729,1.09228,1.09724,166680\r\n01/11/2024,1.0972,1.09994,1.09302,1.0972,264669\r\n01/12/2024,1.09715,1.09868,1.09359,1.09485,206910\r\n01/15/2024,1.0947,1.09674,1.09334,1.09481,124257\r\n01/16/2024,1.09487,1.09511,1.08617,1.08751,253983\r\n01/17/2024,1.08749,1.08844,1.08444,1.08823,222357\r\n01/18/2024,1.08823,1.09067,1.08466,1.08761,213376\r\n01/19/2024,1.08753,1.0898,1.08657,1.08971,177657\r\n01/22/2024,1.089,1.09094,1.08799,1.08825,157030\r\n01/23/2024,1.08823,1.09162,1.08215,1.08533,177439\r\n01/24/2024,1.08532,1.09323,1.08441,1.08846,211200\r\n01/25/2024,1.08842,1.09017,1.08215,1.08461,231685\r\n01/26/2024,1.08457,1.08856,1.08128,1.08531,182721\r\n01/29/2024,1.084,1.08501,1.07958,1.08311,157414\r\n01/30/2024,1.08311,1.08574,1.08119,1.08454,183551\r\n01/31/2024,1.08454,1.08875,1.07947,1.0818,321190\r\n02/01/2024,1.08179,1.08748,1.07798,1.08715,247284\r\n02/02/2024,1.08711,1.08975,1.07804,1.07864,214011\r\n02/05/2024,1.07849,1.07865,1.07231,1.07423,193242\r\n02/06/2024,1.07423,1.07623,1.07225,1.07542,178827\r\n02/07/2024,1.07531,1.07839,1.07487,1.0772,185234\r\n02/08/2024,1.07714,1.07888,1.07414,1.07775,166538\r\n02/09/2024,1.07773,1.07955,1.07621,1.0783,169068\r\n02/12/2024,1.07785,1.08055,1.07558,1.0772,134405\r\n02/13/2024,1.07709,1.07946,1.07004,1.07085,200733\r\n02/14/2024,1.07085,1.07344,1.06949,1.07274,167783\r\n02/15/2024,1.07263,1.07848,1.07235,1.07724,174080\r\n02/16/2024,1.07717,1.07874,1.0732,1.07743,174615\r\n02/19/2024,1.07731,1.07894,1.07619,1.07769,95114\r\n02/20/2024,1.07769,1.08387,1.07615,1.08075,186237\r\n02/21/2024,1.08075,1.08244,1.07899,1.08189,184065\r\n02/22/2024,1.08185,1.08883,1.08027,1.08226,210971\r\n02/23/2024,1.08225,1.08395,1.08118,1.08175,191354\r\n02/26/2024,1.08316,1.08597,1.08126,1.0851,151112\r\n02/27/2024,1.08509,1.08659,1.08329,1.08441,163484\r\n02/28/2024,1.08435,1.08462,1.07965,1.08382,171722\r\n02/29/2024,1.08375,1.08558,1.07958,1.08052,241417\r\n03/01/2024,1.08052,1.08432,1.07977,1.08374,208505\r\n03/04/2024,1.08375,1.08667,1.08364,1.08555,165165\r\n03/05/2024,1.08555,1.08761,1.08401,1.08565,173617\r\n03/06/2024,1.08565,1.09154,1.0842,1.08985,211323\r\n03/07/2024,1.08984,1.09492,1.08677,1.0948,207182\r\n03/08/2024,1.09476,1.09812,1.09178,1.09343,234591\r\n03/11/2024,1.09401,1.09481,1.09145,1.09257,172039\r\n03/12/2024,1.09253,1.09438,1.09022,1.09266,206900\r\n03/13/2024,1.0926,1.09638,1.09199,1.09475,161018\r\n03/14/2024,1.09473,1.09547,1.08806,1.0883,177032\r\n03/15/2024,1.0883,1.08997,1.08728,1.08875,164975\r\n03/18/2024,1.08898,1.09061,1.0866,1.08722,125219\r\n03/19/2024,1.08721,1.08766,1.08346,1.08656,175291\r\n03/20/2024,1.08655,1.09228,1.08364,1.09218,189479\r\n03/21/2024,1.09217,1.09425,1.08554,1.08597,208817\r\n03/22/2024,1.08596,1.0868,1.08017,1.08066,153911\r\n03/25/2024,1.08069,1.08424,1.0802,1.08372,127588\r\n03/26/2024,1.08372,1.08643,1.08242,1.0831,156082\r\n03/27/2024,1.08308,1.0839,1.08107,1.08278,167119\r\n03/28/2024,1.08275,1.08276,1.0775,1.07861,181680\r\n03/29/2024,1.07861,1.08047,1.07677,1.07894,133569\r\n04/01/2024,1.07871,1.07987,1.07309,1.07428,133760\r\n04/02/2024,1.07426,1.0779,1.07246,1.07692,150888\r\n04/03/2024,1.07692,1.08368,1.07639,1.08359,166037\r\n04/04/2024,1.08358,1.08765,1.08318,1.08368,140824\r\n04/05/2024,1.08364,1.08479,1.07913,1.0836,188131\r\n04/08/2024,1.08341,1.08622,1.08209,1.08591,144260\r\n04/09/2024,1.0859,1.0885,1.08476,1.08568,139549\r\n04/10/2024,1.08568,1.08665,1.07287,1.07423,214382\r\n04/11/2024,1.07421,1.07564,1.0699,1.07259,213803\r\n04/12/2024,1.07253,1.07293,1.06224,1.06384,189428\r\n04/15/2024,1.06329,1.06652,1.06202,1.06241,222322\r\n04/16/2024,1.06241,1.06536,1.06011,1.06186,247391\r\n04/17/2024,1.06185,1.06795,1.06059,1.06727,209314\r\n04/18/2024,1.06726,1.069,1.06413,1.06432,177121\r\n04/19/2024,1.06432,1.06776,1.06104,1.06521,263202\r\n04/22/2024,1.0653,1.06707,1.06239,1.06539,146480\r\n04/23/2024,1.06532,1.07113,1.06385,1.07011,168084\r\n04/24/2024,1.07008,1.07142,1.0678,1.06987,140013\r\n04/25/2024,1.06987,1.07404,1.06782,1.07298,179636\r\n04/26/2024,1.07292,1.07528,1.06739,1.06912,174307\r\n04/29/2024,1.06909,1.07337,1.06901,1.07208,211949\r\n04/30/2024,1.07198,1.07354,1.06646,1.06654,200125\r\n05/01/2024,1.06654,1.07328,1.06494,1.0712,206885\r\n05/02/2024,1.071,1.07302,1.06741,1.07252,199142\r\n05/03/2024,1.0725,1.08122,1.07222,1.07614,228009\r\n05/06/2024,1.07598,1.07908,1.07552,1.07677,118472\r\n05/07/2024,1.07676,1.07873,1.07478,1.07544,136121\r\n05/08/2024,1.07543,1.07574,1.0735,1.07481,116644\r\n05/09/2024,1.07481,1.07845,1.07239,1.07818,130070\r\n05/10/2024,1.07815,1.07901,1.07603,1.07689,122146\r\n05/13/2024,1.07679,1.08068,1.07657,1.07895,115903\r\n05/14/2024,1.07893,1.08256,1.07665,1.08191,133481\r\n05/15/2024,1.08185,1.0886,1.08129,1.08841,160174\r\n05/16/2024,1.08829,1.08949,1.08544,1.08669,134017\r\n05/17/2024,1.08669,1.08785,1.08356,1.08672,109540\r\n05/20/2024,1.08644,1.08845,1.0854,1.08566,109748\r\n05/21/2024,1.08566,1.08747,1.08425,1.08538,127331\r\n05/22/2024,1.08535,1.08634,1.08174,1.08225,129751\r\n05/23/2024,1.08224,1.08611,1.08047,1.08147,177105\r\n05/24/2024,1.08144,1.08578,1.08054,1.08454,125138\r\n05/27/2024,1.08465,1.08674,1.08406,1.08572,78305\r\n05/28/2024,1.08569,1.0889,1.08501,1.08567,132219\r\n05/29/2024,1.08563,1.08612,1.07998,1.08008,154701\r\n05/30/2024,1.08008,1.08451,1.07882,1.08319,151455\r\n05/31/2024,1.08314,1.08823,1.08112,1.08434,170873\r\n06/03/2024,1.08475,1.09047,1.08278,1.09042,152848\r\n06/04/2024,1.09039,1.0916,1.08588,1.08789,177505\r\n06/05/2024,1.08789,1.08915,1.08543,1.08684,152768\r\n06/06/2024,1.08676,1.0902,1.08619,1.08875,149686\r\n06/07/2024,1.08875,1.09018,1.07994,1.08004,195865\r\n06/10/2024,1.07715,1.07816,1.07326,1.07651,158682\r\n06/11/2024,1.07646,1.07734,1.07194,1.07404,159987\r\n06/12/2024,1.07404,1.08522,1.07346,1.08085,241933\r\n06/13/2024,1.08084,1.08164,1.07328,1.07371,187911\r\n06/14/2024,1.07363,1.07448,1.06675,1.07007,216260\r\n06/17/2024,1.07021,1.07378,1.06862,1.0734,179545\r\n06/18/2024,1.0734,1.07615,1.07099,1.07395,175895\r\n06/19/2024,1.07394,1.07535,1.07247,1.07412,108102\r\n06/20/2024,1.07387,1.07486,1.07014,1.07015,158895\r\n06/21/2024,1.07015,1.07205,1.06709,1.06903,173954\r\n06/24/2024,1.06853,1.07464,1.06836,1.0732,168599\r\n06/25/2024,1.07305,1.07442,1.06904,1.07138,148273\r\n06/26/2024,1.07137,1.07179,1.0666,1.06804,166433\r\n06/27/2024,1.06804,1.07264,1.06763,1.07035,176840\r\n06/28/2024,1.07031,1.07247,1.06852,1.07109,209340\r\n07/01/2024,1.07432,1.07764,1.07194,1.07402,197302\r\n07/02/2024,1.07403,1.07472,1.07099,1.0745,175315\r\n07/03/2024,1.0745,1.08168,1.0736,1.07841,161133\r\n07/04/2024,1.07845,1.08138,1.07815,1.08106,106029\r\n07/05/2024,1.08108,1.08426,1.07945,1.08364,189607\r\n07/08/2024,1.07995,1.08451,1.07991,1.08237,181797\r\n07/09/2024,1.08235,1.08334,1.08054,1.08135,163227\r\n07/10/2024,1.08135,1.08305,1.08103,1.08298,145249\r\n07/11/2024,1.08294,1.09,1.08249,1.08676,235462\r\n07/12/2024,1.08672,1.09113,1.08617,1.09043,214169\r\n07/15/2024,1.08822,1.09223,1.08806,1.08938,190211\r\n07/16/2024,1.0894,1.09054,1.08715,1.08992,176720\r\n07/17/2024,1.08989,1.0948,1.0895,1.09389,210054\r\n07/18/2024,1.09386,1.0941,1.08935,1.08964,197004\r\n07/19/2024,1.08961,1.09017,1.08756,1.0881,181558\r\n07/22/2024,1.08834,1.09028,1.0873,1.08907,179630\r\n07/23/2024,1.08906,1.08967,1.08437,1.08538,157772\r\n07/24/2024,1.08538,1.08665,1.08256,1.08397,194271\r\n07/25/2024,1.08395,1.087,1.08282,1.08456,233272\r\n07/26/2024,1.08456,1.08681,1.0842,1.08549,173243\r\n07/29/2024,1.08545,1.08699,1.08027,1.08206,172848\r\n07/30/2024,1.08202,1.08358,1.07981,1.0815,177531\r\n07/31/2024,1.0815,1.08493,1.08017,1.08256,259370\r\n08/01/2024,1.08252,1.08354,1.07774,1.07911,263547\r\n08/02/2024,1.07911,1.09266,1.07817,1.0908,332674\r\n08/05/2024,1.09177,1.10089,1.08926,1.09524,557450\r\n08/06/2024,1.09504,1.09631,1.09035,1.09296,358326\r\n08/07/2024,1.0929,1.09366,1.09052,1.09213,265786\r\n08/08/2024,1.09213,1.09452,1.08813,1.09186,269219\r\n08/09/2024,1.09122,1.09313,1.0909,1.09143,188046\r\n08/12/2024,1.09147,1.09393,1.09099,1.09313,168972\r\n08/13/2024,1.09313,1.09996,1.09137,1.09936,188317\r\n08/14/2024,1.09927,1.10474,1.09815,1.10122,197287\r\n08/15/2024,1.10121,1.10155,1.09495,1.09722,173899\r\n08/16/2024,1.09722,1.10294,1.09685,1.10265,151220\r\n08/19/2024,1.10255,1.10864,1.10227,1.10849,181582\r\n08/20/2024,1.10848,1.11304,1.10717,1.11295,200589\r\n08/21/2024,1.11296,1.11741,1.10989,1.11493,216658\r\n08/22/2024,1.11491,1.11648,1.10981,1.1112,198886\r\n08/23/2024,1.11118,1.12009,1.11053,1.11889,228085\r\n08/26/2024,1.11865,1.12016,1.11499,1.11609,213110\r\n08/27/2024,1.11609,1.11906,1.11498,1.11841,183363\r\n08/28/2024,1.11838,1.11849,1.11049,1.11195,203443\r\n08/29/2024,1.11193,1.11398,1.10555,1.10774,240587\r\n08/30/2024,1.10771,1.1095,1.10437,1.10469,231838\r\n09/02/2024,1.10409,1.10774,1.10409,1.10696,130425\r\n09/03/2024,1.10694,1.10728,1.10263,1.10431,213747\r\n09/04/2024,1.10431,1.10951,1.10362,1.1082,208626\r\n09/05/2024,1.10817,1.11197,1.10746,1.11102,210803\r\n09/06/2024,1.11103,1.11554,1.10655,1.10839,317364\r\n09/09/2024,1.10793,1.1091,1.10335,1.10348,176127\r\n09/10/2024,1.10341,1.10496,1.10151,1.10194,162169\r\n09/11/2024,1.10191,1.10548,1.10019,1.10119,242768\r\n09/12/2024,1.10119,1.10751,1.10054,1.10743,214813\r\n09/13/2024,1.10743,1.11019,1.10703,1.1074,202491\r\n09/16/2024,1.10762,1.11376,1.10742,1.11326,183592\r\n09/17/2024,1.11324,1.11463,1.11105,1.11135,220833\r\n09/18/2024,1.11132,1.11891,1.10966,1.11187,278987\r\n09/19/2024,1.11187,1.11789,1.10683,1.11614,305978\r\n09/20/2024,1.11613,1.11818,1.1136,1.11603,249858\r\n09/23/2024,1.11584,1.11673,1.10831,1.11111,231246\r\n09/24/2024,1.11109,1.11807,1.11033,1.11794,216483\r\n09/25/2024,1.11794,1.12141,1.11215,1.11325,223531\r\n09/26/2024,1.11325,1.11892,1.11256,1.11767,260135\r\n09/27/2024,1.11762,1.1203,1.11245,1.11632,290032\r\n09/30/2024,1.11577,1.1209,1.11135,1.11348,261409\r\n10/01/2024,1.11348,1.1144,1.10457,1.10678,298244\r\n10/02/2024,1.10676,1.10829,1.10325,1.10446,232579\r\n10/03/2024,1.10445,1.10492,1.10082,1.10301,267046\r\n10/04/2024,1.10289,1.10396,1.09512,1.09716,234351\r\n10/07/2024,1.09668,1.09868,1.09542,1.09742,224858\r\n10/08/2024,1.097,1.09972,1.09609,1.098,208460\r\n10/09/2024,1.09759,1.0981,1.09361,1.09391,193187\r\n"


(raw/history kibot {:type "forex",
                    :symbol "EURUSD",
                 ;:startdate "2023-09-01",
                    :period 1
                    :interval "1" ; "daily"
                    :timezone "UTC"})
;; => [:de.otto.nom.core/anomaly
;;     :ta.import.provider.kibot.raw/kibot-request
;;     {:code "497",
;;      :type "Not Allowed",
;;      :message
;;      "\r\nYour account does not have full access to the API.\r\n\r\nYou can use the 'guest' account for testing and to download daily data for stocks and ETFs.\r\nFor more information, please visit http://www.kibot.com/api/\r\n\r\nPlease visit http://www.kibot.com/updates.aspx to see how to subscribe."}]


(raw/history kibot {:symbol "JY"
                    :type "futures" ; Can be stocks, ETFs forex, futures.
                    :interval "daily" ; 5 ; 5 minute bars
                    :period 5 ; number of days going back
                    :timezone "UTC"})
    ;; the following error happens if we want 1 day back, but 1 day back is a holiday.
    ;; => {:error {:code "405", :title "Data Not Found.", :message "No data found for the specified period for JY."}}
    ;; => "11/20/2023,0.0067125,0.006782,0.0066965,0.006772,245135\r\n11/21/2023,0.0067695,0.0068235,0.006757,0.0067695,234151\r\n11/22/2023,0.006769,0.0067805,0.0067015,0.006709,219589\r\n"

(raw/history kibot {:symbol "JY"
                    :type "futures" ; Can be stocks, ETFs forex, futures.
                    :interval "1" ; 1 ; 5 ; 5 minute bars
                    :period 10 ; number of days going back
                    :timezone "UTC"})
;; => [:de.otto.nom.core/anomaly
;;     :ta.import.provider.kibot.raw/kibot-request
;;     {:code "497",
;;      :type "Not Allowed",
;;      :message
;;      "\r\nYour account does not have full access to the API.\r\n\r\nYou can use the 'guest' account for testing and to download daily data for stocks and ETFs.\r\nFor more information, please visit http://www.kibot.com/api/\r\n\r\nPlease visit http://www.kibot.com/updates.aspx to see how to subscribe."}]
